<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ovista Mini Super Mart</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f8f9fa;
      line-height: 1.6;
    }

    /* Header Styles */
    header {
      background: linear-gradient(135deg, #32bcce, #32bcce);
      color: white;
      padding: 1rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-container {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }

    header h1 {
      font-size: 1.5rem;
      font-weight: 700;
      flex-shrink: 0;
    }

    header h1 a {
      color: white;
      text-decoration: none;
    }

    .search-container {
      display: flex;
      background: white;
      border-radius: 25px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      flex: 1;
      min-width: 250px;
      max-width: 400px;
    }

    #searchInput {
      flex: 1;
      padding: 12px 20px;
      border: none;
      outline: none;
      font-size: 16px;
    }

    #searchBtn {
      background: #4CAF50;
      color: white;
      border: none;
      padding: 12px 15px;
      cursor: pointer;
      font-size: 16px;
    }

    .header-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
    }

    .nav-buttons {
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }

    .owner-btn, #cartBtn {
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s ease;
      text-decoration: none;
      white-space: nowrap;
    }

    .owner-btn:hover, #cartBtn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
    }

    .auth-link {
      color: white;
      text-decoration: none;
    }

    #cartBtn {
      position: relative;
      font-size: 16px;
    }

    .cart-count {
      background: #ff4444;
      color: white;
      border-radius: 50%;
      padding: 2px 6px;
      font-size: 12px;
      font-weight: bold;
      min-width: 18px;
      text-align: center;
    }

    /* Mobile Navigation Optimization */
    @media (max-width: 768px) {
      header {
        padding: 0.8rem;
      }

      .header-container {
        gap: 0.8rem;
      }

      .header-top {
        gap: 0.8rem;
      }

      header h1 {
        font-size: 1.2rem;
        order: 1;
        flex: 1;
      }

      .search-container {
        order: 3;
        width: 100%;
        min-width: unset;
        max-width: unset;
      }

      .header-nav {
        order: 2;
        flex-shrink: 0;
      }

      .nav-buttons {
        gap: 0.3rem;
      }

      .owner-btn, #cartBtn {
        padding: 8px 12px;
        font-size: 12px;
        border-radius: 15px;
      }

      .profile-icon {
        font-size: 14px;
      }

      .owner-btn .auth-link {
        display: none;
      }

      .owner-btn[aria-label="Login or Sign Up"]:after {
        content: "Login";
        font-size: 12px;
      }

      .owner-btn[aria-label="Contact Us"]:after {
        content: "Contact";
        font-size: 12px;
      }
    }

    @media (max-width: 480px) {
      .header-top {
        flex-direction: column;
        align-items: stretch;
      }

      header h1 {
        text-align: center;
        order: 1;
      }

      .header-nav {
        order: 2;
        justify-content: center;
      }

      .search-container {
        order: 3;
      }

      .owner-btn, #cartBtn {
        padding: 6px 10px;
        font-size: 11px;
      }
    }

    /* Container and Layout */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }

    .breadcrumb {
      margin-bottom: 2rem;
      color: #666;
    }

    .breadcrumb a {
      color: #4CAF50;
      text-decoration: none;
    }

    .breadcrumb .active {
      color: #666;
    }

    .category-container {
      display: grid;
      grid-template-columns: 250px 1fr;
      gap: 2rem;
    }

    @media (max-width: 768px) {
      .category-container {
        grid-template-columns: 1fr;
      }
      
      .sidebar {
        order: 2;
      }
      
      .main-content {
        order: 1;
      }
    }

    /* Sidebar */
    .sidebar {
      background: white;
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      height: fit-content;
    }

    .sidebar h3 {
      margin-bottom: 1rem;
      color: #333;
      font-weight: 600;
    }

    .category-list {
      list-style: none;
    }

    .category-list li {
      margin-bottom: 0.5rem;
    }

    .category-list a {
      display: block;
      padding: 0.75rem 1rem;
      color: #666;
      text-decoration: none;
      border-radius: 5px;
      transition: all 0.3s ease;
    }

    .category-list a:hover,
    .category-list a.active {
      background: #4CAF50;
      color: white;
    }

    /* Main Content */
    .main-content {
      background: white;
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .product-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .sort-options {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .sort-options select {
      padding: 0.5rem;
      border: 1px solid #ddd;
      border-radius: 5px;
    }

    #productsCount {
      color: #666;
      font-size: 0.9rem;
    }

    /* Product Grid */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 1.5rem;
    }

    @media (max-width: 768px) {
      .product-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 1rem;
      }
    }

    @media (max-width: 480px) {
      .product-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 0.8rem;
      }
    }

    .product-card {
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }

    .product-card:hover {
      transform: translateY(-5px);
    }

    .product-img {
      height: 200px;
      overflow: hidden;
    }

    .product-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .product-info {
      padding: 1rem;
    }

    .product-title {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #333;
    }

    .product-weight {
      color: #666;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .product-price {
      font-size: 1.1rem;
      font-weight: 700;
      color: #4CAF50;
      margin-bottom: 1rem;
    }

    .add-to-cart {
      width: 100%;
      background: #4CAF50;
      color: white;
      border: none;
      padding: 0.75rem;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.3s ease;
    }

    .add-to-cart:hover {
      background: #45a049;
    }

    /* Cart Sidebar */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 200;
      opacity: 0;
      display: none;
      transition: opacity 0.3s ease;
    }

    .cart-sidebar {
      position: fixed;
      top: 0;
      right: -400px;
      width: 400px;
      height: 100%;
      background: white;
      z-index: 201;
      transition: right 0.3s ease;
      display: flex;
      flex-direction: column;
    }

    @media (max-width: 480px) {
      .cart-sidebar {
        width: 100%;
        right: -100%;
      }
    }

    .cart-sidebar.open {
      right: 0;
    }

    .cart-header {
      padding: 1.5rem;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .close-cart {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #666;
    }

    .cart-items {
      flex: 1;
      overflow-y: auto;
      padding: 1rem;
    }

    .empty-cart {
      text-align: center;
      color: #666;
      padding: 2rem;
    }

    .cart-item {
      display: flex;
      gap: 1rem;
      padding: 1rem 0;
      border-bottom: 1px solid #eee;
    }

    .item-image {
      width: 60px;
      height: 60px;
      border-radius: 5px;
      overflow: hidden;
      flex-shrink: 0;
    }

    .item-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .item-details {
      flex: 1;
    }

    .item-details h4 {
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .item-price {
      color: #4CAF50;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .item-quantity {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .item-quantity button {
      background: #f0f0f0;
      border: none;
      width: 25px;
      height: 25px;
      border-radius: 50%;
      cursor: pointer;
    }

    .item-total {
      text-align: right;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .remove-item {
      background: #ff4444;
      color: white;
      border: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 12px;
    }

    .cart-footer {
      padding: 1.5rem;
      border-top: 1px solid #eee;
      background: #f8f9fa;
    }

    .cart-subtotal,
    .cart-total {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }

    .cart-total {
      font-weight: 700;
      font-size: 1.1rem;
      padding-top: 0.5rem;
      border-top: 1px solid #ddd;
    }

    .checkout-btn {
      width: 100%;
      background: #4CAF50;
      color: white;
      border: none;
      padding: 1rem;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 600;
      margin-top: 1rem;
    }

    /* Success Message */
    .success-message {
      position: fixed;
      top: 100px;
      right: 20px;
      background: #4CAF50;
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 5px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      transform: translateX(400px);
      transition: transform 0.3s ease;
      z-index: 300;
    }

    .success-message.show {
      transform: translateX(0);
    }

    /* Footer */
    footer {
      background: #333;
      color: white;
      padding: 2rem 1rem 1rem;
      margin-top: 3rem;
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .footer-col h4 {
      margin-bottom: 1rem;
      color: #4CAF50;
    }

    .footer-col p {
      margin-bottom: 0.5rem;
      color: #ccc;
    }

    .social-links {
      display: flex;
      gap: 1rem;
      margin-top: 1rem;
    }

    .social-links a {
      color: white;
      font-size: 1.5rem;
      text-decoration: none;
    }

    .copyright {
      text-align: center;
      margin-top: 2rem;
      padding-top: 1rem;
      border-top: 1px solid #555;
      color: #ccc;
    }

    .no-products {
      grid-column: 1 / -1;
      text-align: center;
      padding: 2rem;
      color: #666;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-container">
      <div class="header-top">
        <h1><a href="index.html">Ovista Mini Super Mart</a></h1>
        
        <nav class="header-nav">
          <div class="nav-buttons">
            <button id="loginBtn" class="owner-btn" aria-label="Login or Sign Up">
              <span class="profile-icon">📲</span>
              <a href="login.html" class="auth-link">Login</a>
            </button>

            <button id="contactBtn" class="owner-btn" aria-label="Contact Us">
              <span class="profile-icon">📞</span>
            </button>
            
            <button id="cartBtn" aria-label="Open shopping cart">
              🛒<span class="cart-count" id="cartCount">0</span>
            </button>
          </div>
        </nav>
        
        <div class="search-container">
          <input type="text" id="searchInput" placeholder="Search products..." aria-label="Search products">
          <button id="searchBtn" aria-label="Search">🔍</button>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="container">
      <div class="breadcrumb">
        <a href="index.html">Home</a>
        <span> | </span>
        <a href="category.html" class="active">Catalog</a>
      </div>
      
      <div class="category-container">
        <div class="sidebar">
          <h3>Categories</h3>
          <ul class="category-list" id="categoryList">
            <li><a href="#" data-category="All" class="active">All Products</a></li>
            <li><a href="#" data-category="Snack">Snacks</a></li>
            <li><a href="#" data-category="Biscuit">Biscuits</a></li>
            <li><a href="#" data-category="Mosquito Coil">Mosquito Coil</a></li>
            <li><a href="#" data-category="Detergent">Detergent</a></li>
            <li><a href="#" data-category="Chips">Chips</a></li>
            <li><a href="#" data-category="Beverages">Beverages</a></li>
            <li><a href="#" data-category="Feminine Care">Feminine Care</a></li>
            <li><a href="#" data-category="AIR FRESHENER">Air Freshener</a></li> 
            <li><a href="#" data-category="Personal Care">Personal Care</a></li>
            <li><a href="#" data-category="Cooking">Cooking</a></li>
            <li><a href="#" data-category="Home & Kitchen">Home & Kitchen</a></li>
            <li><a href="#" data-category="Stationary">Stationary</a></li>
            <li><a href="#" data-category="Food">Food</a></li>
            <li><a href="#" data-category="Health & Wellness">Health & Wellness</a></li>
            <li><a href="#" data-category="Men's Care">Men's Care</a></li>
            <li><a href="#" data-category="Oral Care">Oral Care</a></li>
            <li><a href="#" data-category="Sauces & Pickles">Sauces & Pickles</a></li>
            <li><a href="#" data-category="Tissue">Tissue</a></li>
          </ul>
        </div>
        
        <div class="main-content">
          <div class="product-header">
            <div class="sort-options">
              <span>Sort by:</span>
              <select id="sortSelect">
                <option value="default">Default</option>
                <option value="name-asc">Name (A-Z)</option>
                <option value="name-desc">Name (Z-A)</option>
                <option value="price-asc">Price: Low to High</option>
                <option value="price-desc">Price: High to Low</option>
              </select>
            </div>
            
            <div id="productsCount">Showing 24 products</div>
          </div>
          
          <div class="product-grid" id="productsGrid">
            <!-- Products will be generated by JavaScript -->
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <!-- Shopping Cart Sidebar -->
  <div class="overlay" id="overlay"></div>
  <div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
      <h2>Your Cart</h2>
      <button class="close-cart" id="closeCartBtn">&times;</button>
    </div>
    
    <div class="cart-items" id="cartItems">
      <!-- Cart items will be inserted here -->
      <div class="empty-cart" id="emptyCart">
        <p>Your cart is empty</p>
        <p>Add items to get started</p>
      </div>
    </div>
    
    <div class="cart-footer">
      <div class="cart-subtotal">
        <span>Subtotal:</span>
        <span id="cartSubtotal">BDT 0.00</span>
      </div>
      <div class="cart-total">
        <span>Total:</span>
        <span id="cartTotal">BDT 0.00</span>
      </div>
      <button class="checkout-btn" id="checkoutBtn">Proceed to Checkout</button>
    </div>
  </div>
  
  <!-- Success Message -->
  <div class="success-message" id="successMessage">
    Item added to cart!
  </div>
  
  <footer>
    <div class="footer-content">
      <div class="footer-col">
        <h4>Contact Us</h4>
        <p>Darululum More, Old Babu Para</p>
        <p>Saidpur, Nilphamari</p>
        <p>Phone: 01883786892</p>
        <p>Email: ovibiswas45@gmail.com</p>
      </div>
      <div class="footer-col">
        <h4>Business Hours</h4>
        <p>Open Every Day</p>
        <p>8:00 AM – 10:00 PM</p>
      </div>
      <div class="footer-col">
        <h4>Connect With Us</h4>
        <p>Follow us on social media</p>
        <div class="social-links">
          <a href="#" aria-label="Facebook">📱</a>
          <a href="#" aria-label="WhatsApp">📞</a>
        </div>
      </div>
    </div>
    <div class="copyright">
      &copy; 2025 Ovi Traders & Mini Super Mart. All rights reserved.
    </div>
  </footer>
  
  <script>
  // Product database with categories
  const products = [
    {
      id: 1,
      name: "Pran Chips",
      price: 25,
      weight: "100 gm",
      category: ["Snack", "Chips"],
      image: "https://images.pexels.com/photos/13060679/pexels-photo-13060679.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 2,
      name: "Pepsi",
      price: 35,
      weight: "500 ml",
      category: ["Beverages"],
      image: "https://images.pexels.com/photos/1292294/pexels-photo-1292294.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"
    },
    {
      id: 3,
      name: "Igloo Ice Cream",
      price: 120,
      weight: "100 ml",
      category: ["Food"],
      image: "https://images.pexels.com/photos/632470/pexels-photo-632470.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 4,
      name: "Dairy Milk Chocolate",
      price: 50,
      weight: "35 gm",
      category: ["Snack", "Food"],
      image: "https://images.pexels.com/photos/1586942/pexels-photo-1586942.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 5,
      name: "Kitkat Chocolate",
      price: 45,
      weight: "40 gm",
      category: ["Snack", "Food"],
      image: "https://images.pexels.com/photos/65882/chocolate-dark-coffee-confiserie-65882.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 6,
      name: "Coca Cola",
      price: 70,
      weight: "1 L",
      category: ["Beverages"],
      image: "https://images.pexels.com/photos/2983100/pexels-photo-2983100.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 7,
      name: "Lays Potato Chips",
      price: 30,
      weight: "60 gm",
      category: ["Snack", "Chips"],
      image: "https://images.pexels.com/photos/542607/pexels-photo-542607.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 8,
      name: "Maggi Noodles",
      price: 18,
      weight: "80 gm",
      category: ["Food", "Cooking"],
      image: "https://images.pexels.com/photos/5908255/pexels-photo-5908255.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 9,
      name: "Dettol Soap",
      price: 40,
      weight: "75 gm",
      category: ["Personal Care"],
      image: "https://images.pexels.com/photos/6621471/pexels-photo-6621471.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 10,
      name: "Surf Excel Detergent",
      price: 120,
      weight: "500 gm",
      category: ["Detergent", "Cleaning Supplies"],
      image: "https://images.pexels.com/photos/4239013/pexels-photo-4239013.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 11,
      name: "Axe Body Spray",
      price: 150,
      weight: "150 ml",
      category: ["Men's Care"],
      image: "https://images.pexels.com/photos/3059609/pexels-photo-3059609.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 12,
      name: "Mortein Mosquito Coil",
      price: 45,
      weight: "10 pcs",
      category: ["Mosquito Coil", "Home & Kitchen"],
      image: "https://images.pexels.com/photos/7722258/pexels-photo-7722258.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 13,
      name: "Parle-G Biscuits",
      price: 15,
      weight: "100 gm",
      category: ["Biscuit", "Snack"],
      image: "https://images.pexels.com/photos/6025810/pexels-photo-6025810.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 14,
      name: "Air Wick Freshener",
      price: 220,
      weight: "300 ml",
      category: ["AIR FRESHENER", "Home & Kitchen"],
      image: "https://images.pexels.com/photos/13060679/pexels-photo-13060679.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 15,
      name: "Foster Clark's Orange Drink",
      price: 120,
      weight: "750 gm",
      category: ["Beverages"],
      image: "https://images.pexels.com/photos/4443471/pexels-photo-4443471.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 16,
      name: "Baking Powder",
      price: 35,
      weight: "50 gm",
      category: ["Cooking"],
      image: "https://images.pexels.com/photos/6996164/pexels-photo-6996164.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 17,
      name: "Dove Shampoo",
      price: 160,
      weight: "200 ml",
      category: ["Personal Care"],
      image: "https://images.pexels.com/photos/545012/pexels-photo-545012.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 18,
      name: "Lifebuoy Handwash",
      price: 85,
      weight: "250 ml",
      category: ["Personal Care"],
      image: "https://images.pexels.com/photos/3952034/pexels-photo-3952034.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 19,
      name: "Pampers Diapers",
      price: 350,
      weight: "16 pcs",
      category: ["Baby Care"],
      image: "https://images.pexels.com/photos/6698858/pexels-photo-6698858.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 20,
      name: "Colgate Toothpaste",
      price: 70,
      weight: "100 gm",
      category: ["Oral Care", "Personal Care"],
      image: "https://images.pexels.com/photos/6608642/pexels-photo-6608642.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 21,
      name: "Heinz Tomato Ketchup",
      price: 180,
      weight: "300 gm",
      category: ["Sauces & Pickles", "Food"],
      image: "https://images.pexels.com/photos/5848766/pexels-photo-5848766.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 22,
      name: "Whisper Sanitary Pads",
      price: 120,
      weight: "8 pcs",
      category: ["Feminine Care"],
      image: "https://images.pexels.com/photos/6624860/pexels-photo-6624860.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 23,
      name: "Kleenex Tissues",
      price: 60,
      weight: "100 sheets",
      category: ["Tissue", "Personal Care"],
      image: "https://images.pexels.com/photos/4239016/pexels-photo-4239016.jpeg?auto=compress&cs=tinysrgb&w=600"
    },
    {
      id: 24,
      name: "Choco Sip",
      price: 10,
      weight: "40 gm",
      category: ["Beverages", "Food"],
      image: "https://images.pexels.com/photos/13060679/pexels-photo-13060679.jpeg?auto=compress&cs=tinysrgb&w=600"
    }
  ];

  // Cart array to store selected products
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
 // Wait for DOM to be fully loaded
document.addEventListener('DOMContentLoaded', function() {
  const productsGrid = document.getElementById('productsGrid');
  const categoryList = document.getElementById('categoryList');
  const sortSelect = document.getElementById('sortSelect');
  const cartBtn = document.getElementById('cartBtn');
  const closeCartBtn = document.getElementById('closeCartBtn');
  const overlay = document.getElementById('overlay');
  const cartSidebar = document.getElementById('cartSidebar');
  const cartItems = document.getElementById('cartItems');
  const emptyCart = document.getElementById('emptyCart');
  const cartSubtotal = document.getElementById('cartSubtotal');
  const cartTotal = document.getElementById('cartTotal');
  const cartCount = document.getElementById('cartCount');
  const checkoutBtn = document.getElementById('checkoutBtn');
  const searchInput = document.getElementById('searchInput');
  const searchBtn = document.getElementById('searchBtn');
  const productsCount = document.getElementById('productsCount');
  const successMessage = document.getElementById('successMessage');
  const contactBtn = document.getElementById('contactBtn');
  
  // Initialize cart from localStorage or as empty array
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  let currentCategory = 'All';
  let currentSort = 'default';
  let searchTerm = '';
  
  // Update cart count on page load
  updateCartCount();
  
  // Display all products initially
  displayProducts(products);
  
  // Add event listeners
  if (sortSelect) {
    sortSelect.addEventListener('change', function() {
      currentSort = this.value;
      filterAndSortProducts();
    });
  }
  
  // Contact button functionality
  if (contactBtn) {
    contactBtn.addEventListener('click', function() {
      showContactModal();
    });
  }
  
  
  if (categoryList) {
    categoryList.addEventListener('click', function(e) {
      if (e.target.tagName === 'A') {
        e.preventDefault();
        
        // Remove active class from all category links
        document.querySelectorAll('.category-list a').forEach(link => {
          link.classList.remove('active');
        });
        
        // Add active class to clicked category
        e.target.classList.add('active');
        
        currentCategory = e.target.getAttribute('data-category');
        filterAndSortProducts();
      }
    });
  }
  
  if (searchInput && searchBtn) {
    searchBtn.addEventListener('click', function() {
      searchTerm = searchInput.value.trim().toLowerCase();
      filterAndSortProducts();
    });
    
    searchInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        searchTerm = searchInput.value.trim().toLowerCase();
        filterAndSortProducts();
      }
    });
  }
  
  // Cart functionality
  if (cartBtn) {
    cartBtn.addEventListener('click', toggleCart);
  }
  
  if (closeCartBtn) {
    closeCartBtn.addEventListener('click', toggleCart);
  }
  
  if (overlay) {
    overlay.addEventListener('click', toggleCart);
  }
  
  if (checkoutBtn) {
    checkoutBtn.addEventListener('click', checkout);
  }
  
  // Function to display products
  function displayProducts(productsToShow) {
    if (!productsGrid) return;
    
    productsGrid.innerHTML = '';
    
    if (productsToShow.length === 0) {
      productsGrid.innerHTML = '<div class="no-products">No products found matching your criteria.</div>';
      if (productsCount) {
        productsCount.textContent = 'Showing 0 products';
      }
      return;
    }
    
    productsToShow.forEach(product => {
      const productCard = document.createElement('div');
      productCard.className = 'product-card';
      
      productCard.innerHTML = `
        <div class="product-img">
          <img src="${product.image}" alt="${product.name}">
        </div>
        <div class="product-info">
          <h3 class="product-title">${product.name}</h3>
          <p class="product-weight">${product.weight}</p>
          <div class="product-price">BDT ${product.price.toFixed(2)}</div>
          <button class="add-to-cart" data-id="${product.id}">Add to Cart</button>
        </div>
      `;
      
      productsGrid.appendChild(productCard);
    });
    
    // Update products count
    if (productsCount) {
      productsCount.textContent = `Showing ${productsToShow.length} products`;
    }
    
    // Add event listeners to the add to cart buttons
    document.querySelectorAll('.add-to-cart').forEach(button => {
      button.addEventListener('click', function() {
        const productId = parseInt(this.getAttribute('data-id'));
        addToCart(productId);
      });
    });
  }
  
  // Filter and sort products based on current selections
  function filterAndSortProducts() {
    let filteredProducts = products.filter(product => {
      // Filter by category
      const categoryMatch = currentCategory === 'All' || 
                          product.category.includes(currentCategory);
      
      // Filter by search term
      const searchMatch = !searchTerm || 
                        product.name.toLowerCase().includes(searchTerm);
      
      return categoryMatch && searchMatch;
    });
    
    // Sort products
    switch(currentSort) {
      case 'name-asc':
        filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
        break;
      case 'name-desc':
        filteredProducts.sort((a, b) => b.name.localeCompare(a.name));
        break;
      case 'price-asc':
        filteredProducts.sort((a, b) => a.price - b.price);
        break;
      case 'price-desc':
        filteredProducts.sort((a, b) => b.price - a.price);
        break;
      default:
        // Default sorting (by ID or as they appear in the array)
        filteredProducts.sort((a, b) => a.id - b.id);
    }
    
    displayProducts(filteredProducts);
  }
  
  // Add to cart function
  function addToCart(productId) {
    const product = products.find(p => p.id === productId);
    
    if (!product) return;
    
    // Check if product is already in cart
    const existingProduct = cart.find(item => item.id === productId);
    
    if (existingProduct) {
      existingProduct.quantity += 1;
    } else {
      cart.push({
        id: product.id,
        name: product.name,
        price: product.price,
        image: product.image,
        quantity: 1
      });
    }
    
    // Save cart to localStorage
    localStorage.setItem('cart', JSON.stringify(cart));
    
    // Update cart display
    updateCart();
    
    // Show success message
    showSuccessMessage();
  }
  
  // Show success message when item is added to cart
  function showSuccessMessage() {
    if (!successMessage) return;
    
    successMessage.classList.add('show');
    
    setTimeout(() => {
      successMessage.classList.remove('show');
    }, 2000);
  }
  
  // Update cart display
  function updateCart() {
    if (!cartItems) return;
    
    // Clear previous cart items
    while (cartItems.firstChild && cartItems.firstChild !== emptyCart) {
      cartItems.removeChild(cartItems.firstChild);
    }
    
    if (cart.length === 0) {
      if (emptyCart) emptyCart.style.display = 'block';
      if (cartSubtotal) cartSubtotal.textContent = 'BDT 0.00';
      if (cartTotal) cartTotal.textContent = 'BDT 0.00';
      updateCartCount();
      return;
    }
    
    // Hide empty cart message
    if (emptyCart) emptyCart.style.display = 'none';
    
    let subtotal = 0;
    
    // Add each cart item to the display
    cart.forEach(item => {
      const itemTotal = item.price * item.quantity;
      subtotal += itemTotal;
      
      const cartItem = document.createElement('div');
      cartItem.className = 'cart-item';
      
      cartItem.innerHTML = `
        <div class="item-image">
          <img src="${item.image}" alt="${item.name}">
        </div>
        <div class="item-details">
          <h4>${item.name}</h4>
          <div class="item-price">BDT ${item.price.toFixed(2)}</div>
          <div class="item-quantity">
            <button class="decrease-qty" data-id="${item.id}">-</button>
            <span>${item.quantity}</span>
            <button class="increase-qty" data-id="${item.id}">+</button>
          </div>
        </div>
        <div class="item-total">
          BDT ${itemTotal.toFixed(2)}
          <button class="remove-item" data-id="${item.id}">&times;</button>
        </div>
      `;
      
      cartItems.insertBefore(cartItem, emptyCart);
    });
    
    // Update subtotal and total
    if (cartSubtotal) cartSubtotal.textContent = `BDT ${subtotal.toFixed(2)}`;
    if (cartTotal) cartTotal.textContent = `BDT ${subtotal.toFixed(2)}`; // Add tax/shipping here if needed
    
    // Update cart count
    updateCartCount();
    
    // Add event listeners to cart item buttons
    document.querySelectorAll('.decrease-qty').forEach(button => {
      button.addEventListener('click', function() {
        const id = parseInt(this.getAttribute('data-id'));
        decreaseQuantity(id);
      });
    });
    
    document.querySelectorAll('.increase-qty').forEach(button => {
      button.addEventListener('click', function() {
        const id = parseInt(this.getAttribute('data-id'));
        increaseQuantity(id);
      });
    });
    
    document.querySelectorAll('.remove-item').forEach(button => {
      button.addEventListener('click', function() {
        const id = parseInt(this.getAttribute('data-id'));
        removeItem(id);
      });
    });
  }
  
  // Update cart count in header
  function updateCartCount() {
    if (!cartCount) return;
    
    const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
    cartCount.textContent = totalItems;
  }
  
  // Decrease item quantity
  function decreaseQuantity(id) {
    const item = cart.find(item => item.id === id);
    
    if (!item) return;
    
    if (item.quantity > 1) {
      item.quantity -= 1;
    } else {
      removeItem(id);
      return;
    }
    
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCart();
  }
  
  // Increase item quantity
  function increaseQuantity(id) {
    const item = cart.find(item => item.id === id);
    
    if (!item) return;
    
    item.quantity += 1;
    
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCart();
  }
  
  // Remove item from cart
  function removeItem(id) {
    cart = cart.filter(item => item.id !== id);
    
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCart();
  }
  
  // Toggle cart sidebar
  function toggleCart() {
    if (!cartSidebar || !overlay) return;
    
    cartSidebar.classList.toggle('open');
    
    if (cartSidebar.classList.contains('open')) {
      overlay.style.display = 'block';
      setTimeout(() => {
        overlay.style.opacity = '1';
      }, 10);
      document.body.style.overflow = 'hidden';
    } else {
      overlay.style.opacity = '0';
      setTimeout(() => {
        overlay.style.display = 'none';
      }, 300);
      document.body.style.overflow = '';
    }
    
    // Update cart display when opened
    if (cartSidebar.classList.contains('open')) {
      updateCart();
    }
  }
  
  // Checkout function
  function checkout() {
    if (cart.length === 0) return;
    
    alert('Thank you for your order! This would proceed to checkout in a real store.');
    
    // Clear the cart
    cart = [];
    localStorage.removeItem('cart');
    updateCart();
    
    // Close the cart sidebar
    toggleCart();
  }
  
  // Contact modal functionality
  function showContactModal() {
    const modalHTML = `
      <div id="contactModal" class="modal">
        <div class="modal-content">
          <span class="close-modal">&times;</span>
          <h2>Contact Us</h2>
          <div class="contact-info">
            <p><strong>Address:</strong> Darululum More, Old Babu Para, Saidpur, Nilphamari</p>
            <p><strong>Phone:</strong> 01883786892</p>
            <p><strong>Email:</strong> ovibiswas45@gmail.com</p>
            <p><strong>Hours:</strong> Open Every Day, 8:00 AM – 10:00 PM</p>
          </div>
          <form id="contactForm">
            <div class="form-group">
              <label for="name">Your Name</label>
              <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
              <label for="email">Your Email</label>
              <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
              <label for="message">Message</label>
              <textarea id="message" name="message" rows="5" required></textarea>
            </div>
            <button type="submit" class="submit-btn">Send Message</button>
          </form>
        </div>
      </div>
    `;
    
    // Create modal element
    const modalElement = document.createElement('div');
    modalElement.innerHTML = modalHTML;
    document.body.appendChild(modalElement);
    
    const modal = document.getElementById('contactModal');
    const closeModal = document.querySelector('.close-modal');
    const contactForm = document.getElementById('contactForm');
    
    // Show modal
    modal.style.display = 'block';
    
    // Close modal when clicking X
    closeModal.addEventListener('click', function() {
      document.body.removeChild(modalElement);
    });
    
    // Close modal when clicking outside
    window.addEventListener('click', function(e) {
      if (e.target === modal) {
        document.body.removeChild(modalElement);
      }
    });
    
    // Handle form submission
    if (contactForm) {
      contactForm.addEventListener('submit', function(e) {
        e.preventDefault();
        alert('Thank you for your message! We will get back to you soon.');
        document.body.removeChild(modalElement);
      });
    }
    
    // Add modal styles if not already present
    if (!document.getElementById('modalStyles')) {
      const styleElement = document.createElement('style');
      styleElement.id = 'modalStyles';
      styleElement.textContent = `
        .modal {
          display: none;
          position: fixed;
          z-index: 1000;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          overflow: auto;
          background-color: rgba(0,0,0,0.6);
        }
        
        .modal-content {
          background-color: #fff;
          margin: 10% auto;
          padding: 30px;
          width: 80%;
          max-width: 600px;
          border-radius: 8px;
          box-shadow: 0 4px 20px rgba(0,0,0,0.2);
          position: relative;
        }
        
        .close-modal {
          position: absolute;
          right: 20px;
          top: 15px;
          font-size: 28px;
          font-weight: bold;
          cursor: pointer;
        }
        
        .contact-info {
          margin-bottom: 25px;
          padding-bottom: 20px;
          border-bottom: 1px solid #eee;
        }
        
        .form-group {
          margin-bottom: 20px;
        }
        
        .form-group label {
          display: block;
          margin-bottom: 8px;
          font-weight: 600;
        }
        
        .form-group input,
        .form-group textarea {
          width: 100%;
          padding: 10px;
          border: 1px solid #ddd;
          border-radius: 4px;
          font-family: inherit;
          font-size: 16px;
        }
        
        .submit-btn {
          background-color: #4CAF50;
          color: white;
          border: none;
          padding: 12px 20px;
          border-radius: 4px;
          cursor: pointer;
          font-size: 16px;
          font-weight: 600;
        }
        
        .submit-btn:hover {
          background-color: #45a049;
        }
      `;
      document.head.appendChild(styleElement);
    }
  }
});
  window.addEventListener('DOMContentLoaded', init);
</script>
  </body>
  </html>